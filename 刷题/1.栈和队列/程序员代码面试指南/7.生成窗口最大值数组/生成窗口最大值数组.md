# 7. 生成窗口最大值数组

## 题目
有1个整型数组 arr 和1个大小为 w 的窗口从数组的最左边滑到最右边，窗口每次向右边滑1个位置。

例如，数组为 [4, 3, 5, 4, 3, 3, 6, 7]，窗口大小 w=3 时:

```text
[4, 3, 5,] 4, 3, 3, 6, 7
4, [3, 5, 4,] 3, 3, 6, 7
4, 3, [5, 4, 3,] 3, 6, 7
4, 3, 5, [4, 3, 3,] 6, 7
4, 3, 5, 4, [3, 3, 6,] 7
4, 3, 5, 4, 3, [3, 6, 7]
```

如果数组长度为 n，窗口大小为 w，则一共产生 n-w+1 个窗口的最大值。

请实现1个函数:
* 输入: 整型数组 arr，窗口大小 w
* 输出: 1个长度为 n-w+1 的数组 res，res[i] 表示每一种窗口状态下的最大值。

以本题为例，结果应返回: {5, 5, 5, 4, 6, 7}


## 难度
2颗星


## 要求
时间复杂度: O(N)


## 解题思路

### 关键: 使用双端队列来实现窗口最大值更新。

**首先，生成双端队列 `qmax`，`qmax` 中存放数组 `arr` 中的下标**

**假设遍历到 `arr[i]`，`qmax` 的放入规则为:**
* 1.如果 `qmax` 为空，直接把下标 `i` 放入 `qmax`
* 2.如果 `qmax` 不为空，取出当前 `qmax` 队尾存放的下标，假设为 `j`:
    * 如果 `arr[j]` > `arr[i]`，直接把 下标 `i` 放入 `qmax` 队尾
    * 如果 `arr[j]` <= `arr[i]`，把 j 从 `qmax` 中弹出，重复 `qmax` 的放入规则
    
**假设遍历到 `arr[i]`，`qmax` 的弹出规则为:**
* 如果 `qmax` 队头的下表等于 `i-w`，说明的当前 `qmax` 队头的下标已经过期，弹出当前队头的下标即可





